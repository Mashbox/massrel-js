<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Simple | Examples</title>
  <script type="text/javascript" src="../../tweetriver.js"></script>
  <script type="text/javascript" src="../../lib/jquery.js"></script>
  <style type="text/css">
    #stream {
      width: 450px;
      margin: 0 auto; /* center in page */
    }

    .status {
      margin: 0;
      padding: 15px;
      border-bottom: 1px solid #ccc;
    }
  </style>
</head>
<body>

<div id="stream"></div>

<script type="text/javascript">

// instance of a stream
var stream = new tweetriver.Stream('massrelevance/glee');

// create new poller
var poller = stream.poller();

// create queue (basically a buffer for tweets when they come in)
poller.queue(function(status, next) {

  // method you pass in will be called for each new status (i.e. tweet) as they
  // come in from oldest to newest

  // create status element
  $('<div />')
    .addClass('status')
    .html(status.text)
    .prependTo('#stream'); // add div to the top of the stream element (each new status is newer)

  // calling "next" lets the queue know that you are ready for
  // another status. usually you just want to call it immediaty
  next();

});

// now start the poller
poller.start();

</script>

</body>
</html>
